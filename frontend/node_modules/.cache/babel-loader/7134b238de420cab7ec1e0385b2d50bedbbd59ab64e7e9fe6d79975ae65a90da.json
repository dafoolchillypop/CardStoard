{"ast":null,"code":"import _objectSpread from\"/home/shawn/projects/CardStoard/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import api from\"../api/api\";import{Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AddCard(){const[card,setCard]=useState({first_name:\"\",last_name:\"\",year:\"\",brand:\"\",card_number:\"\",rookie:0,grade:\"\",book_high:\"\",book_high_mid:\"\",book_mid:\"\",book_low_mid:\"\",book_low:\"\"});const[cardMakes,setCardMakes]=useState([]);const[cardGrades,setCardGrades]=useState([]);// Fetch global settings for dropdown values\nuseEffect(()=>{api.get(\"/settings/\").then(res=>{setCardMakes(res.data.card_makes||[]);setCardGrades(res.data.card_grades||[]);}).catch(err=>console.error(\"Error fetching settings:\",err));},[]);const handleChange=e=>{const{name,value}=e.target;setCard(_objectSpread(_objectSpread({},card),{},{[name]:value}));};const handleSubmit=e=>{e.preventDefault();api.post(\"/cards/\",card).then(()=>{alert(\"Card added successfully!\");setCard({first_name:\"\",last_name:\"\",year:\"\",brand:\"\",card_number:\"\",rookie:0,grade:\"\",book_high:\"\",book_high_mid:\"\",book_mid:\"\",book_low_mid:\"\",book_low:\"\"});}).catch(err=>console.error(err));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",marginBottom:\"1rem\"},children:/*#__PURE__*/_jsx(Link,{className:\"nav-btn\",to:\"/\",children:\"Back to Home\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"page-header\",children:\"Add Card\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"first_name\",value:card.first_name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"last_name\",value:card.last_name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Year\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"year\",value:card.year,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Brand\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"brand\",value:card.brand,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Brand --\"}),cardMakes.map((make,idx)=>/*#__PURE__*/_jsx(\"option\",{value:make,children:make},idx))]}),/*#__PURE__*/_jsx(\"label\",{children:\"Card Number\"}),/*#__PURE__*/_jsx(\"input\",{name:\"card_number\",value:card.card_number,onChange:handleChange}),/*#__PURE__*/_jsxs(\"label\",{className:\"checkbox-label\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"rookie\",checked:Number(card.rookie)===1,onChange:e=>setCard(_objectSpread(_objectSpread({},card),{},{rookie:e.target.checked?1:0}))}),\"Rookie\"]}),/*#__PURE__*/_jsx(\"label\",{children:\"Grade\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"grade\",value:card.grade,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"-- Select Grade --\"}),cardGrades.map((grade,idx)=>/*#__PURE__*/_jsx(\"option\",{value:grade,children:grade},idx))]}),/*#__PURE__*/_jsx(\"label\",{children:\"High Value\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",name:\"book_high\",value:card.book_high,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"High-Mid Value\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",name:\"book_high_mid\",value:card.book_high_mid,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Mid Value\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",name:\"book_mid\",value:card.book_mid,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Low-Mid Value\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",name:\"book_low_mid\",value:card.book_low_mid,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Low Value\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",name:\"book_low\",value:card.book_low,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Add Card\"})]})]});}","map":{"version":3,"names":["React","useEffect","useState","api","Link","jsx","_jsx","jsxs","_jsxs","AddCard","card","setCard","first_name","last_name","year","brand","card_number","rookie","grade","book_high","book_high_mid","book_mid","book_low_mid","book_low","cardMakes","setCardMakes","cardGrades","setCardGrades","get","then","res","data","card_makes","card_grades","catch","err","console","error","handleChange","e","name","value","target","_objectSpread","handleSubmit","preventDefault","post","alert","className","children","style","textAlign","marginBottom","to","onSubmit","onChange","required","type","map","make","idx","checked","Number","step"],"sources":["/home/shawn/projects/CardStoard/frontend/src/pages/AddCard.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport api from \"../api/api\";\nimport { Link } from \"react-router-dom\";\n\nexport default function AddCard() {\n  const [card, setCard] = useState({\n    first_name: \"\",\n    last_name: \"\",\n    year: \"\",\n    brand: \"\",\n    card_number: \"\",\n    rookie: 0,\n    grade: \"\",\n    book_high: \"\",\n    book_high_mid: \"\",\n    book_mid: \"\",\n    book_low_mid: \"\",\n    book_low: \"\"\n  });\n\n  const [cardMakes, setCardMakes] = useState([]);\n  const [cardGrades, setCardGrades] = useState([]);\n\n  // Fetch global settings for dropdown values\n  useEffect(() => {\n    api.get(\"/settings/\")\n      .then(res => {\n        setCardMakes(res.data.card_makes || []);\n        setCardGrades(res.data.card_grades || []);\n      })\n      .catch(err => console.error(\"Error fetching settings:\", err));\n  }, []);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setCard({ ...card, [name]: value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    api.post(\"/cards/\", card)\n      .then(() => {\n        alert(\"Card added successfully!\");\n        setCard({\n          first_name: \"\",\n          last_name: \"\",\n          year: \"\",\n          brand: \"\",\n          card_number: \"\",\n          rookie: 0,\n          grade: \"\",\n          book_high: \"\",\n          book_high_mid: \"\",\n          book_mid: \"\",\n          book_low_mid: \"\",\n          book_low: \"\"\n        });\n      })\n      .catch(err => console.error(err));\n  };\n\n  return (\n    <div className=\"container\">\n      {/* Centered Back to Home link */}\n      <div style={{ textAlign: \"center\", marginBottom: \"1rem\" }}>\n        <Link className=\"nav-btn\" to=\"/\">Back to Home</Link>\n      </div>\n      \n      <h2 className=\"page-header\">Add Card</h2>\n      \n      <form onSubmit={handleSubmit}>\n        <label>First Name</label>\n        <input\n          name=\"first_name\"\n          value={card.first_name}\n          onChange={handleChange}\n          required\n        />\n\n        <label>Last Name</label>\n        <input\n          name=\"last_name\"\n          value={card.last_name}\n          onChange={handleChange}\n          required\n        />\n\n        <label>Year</label>\n        <input\n          type=\"number\"\n          name=\"year\"\n          value={card.year}\n          onChange={handleChange}\n        />\n\n        {/* ✅ Brand dropdown from Card Makes */}\n        <label>Brand</label>\n        <select\n          name=\"brand\"\n          value={card.brand}\n          onChange={handleChange}\n          required\n        >\n          <option value=\"\">-- Select Brand --</option>\n          {cardMakes.map((make, idx) => (\n            <option key={idx} value={make}>{make}</option>\n          ))}\n        </select>\n\n        <label>Card Number</label>\n        <input\n          name=\"card_number\"\n          value={card.card_number}\n          onChange={handleChange}\n        />\n\n        <label className=\"checkbox-label\">\n        <input\n          type=\"checkbox\"\n          name=\"rookie\"\n          checked={Number(card.rookie) === 1}\n          onChange={(e) => setCard({ ...card, rookie: e.target.checked ? 1 : 0 })}\n        />\n        Rookie\n        </label>\n\n        {/* ✅ Grade dropdown from Card Grades */}\n        <label>Grade</label>\n        <select\n          name=\"grade\"\n          value={card.grade}\n          onChange={handleChange}\n          required\n        >\n          <option value=\"\">-- Select Grade --</option>\n          {cardGrades.map((grade, idx) => (\n            <option key={idx} value={grade}>{grade}</option>\n          ))}\n        </select>\n\n        <label>High Value</label>\n        <input\n          type=\"number\"\n          step=\"0.01\"\n          name=\"book_high\"\n          value={card.book_high}\n          onChange={handleChange}\n        />\n\n        <label>High-Mid Value</label>\n        <input\n          type=\"number\"\n          step=\"0.01\"\n          name=\"book_high_mid\"\n          value={card.book_high_mid}\n          onChange={handleChange}\n        />\n\n        <label>Mid Value</label>\n        <input\n          type=\"number\"\n          step=\"0.01\"\n          name=\"book_mid\"\n          value={card.book_mid}\n          onChange={handleChange}\n        />\n\n        <label>Low-Mid Value</label>\n        <input\n          type=\"number\"\n          step=\"0.01\"\n          name=\"book_low_mid\"\n          value={card.book_low_mid}\n          onChange={handleChange}\n        />\n\n        <label>Low Value</label>\n        <input\n          type=\"number\"\n          step=\"0.01\"\n          name=\"book_low\"\n          value={card.book_low}\n          onChange={handleChange}\n        />\n\n        <button type=\"submit\">Add Card</button>\n      </form>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}